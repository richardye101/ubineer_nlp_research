
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dynamic Company Embedding &#8212; Unsupervised analysis of Textual data from 10K Financial Reports</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet">
  <link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Dynamic Topic Modelling" href="../mary/Report_Topic_Modelling.html" />
    <link rel="prev" title="Dynamic Modelling Introduction" href="../mary/Report_Dynamic_Modelling_Introduction.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/favicon.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Unsupervised analysis of Textual data from 10K Financial Reports</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../intro.html">
   <center>
    Unsupervised analysis of Textual data from 10K Financial Reports
   </center>
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Methods
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="0_Methods.html">
   Our Setup: Data ETL and Methods of evaluation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="0_1-Visualization.html">
   Visualizing our work
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Document Embedding
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../mary/Report_Embedding_Introduction.html">
   Document Embedding
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="1_Tf-idf_analysis.html">
   Word embedding using tf-idf matrices
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../peitong/1_Cosine_Similarity_Distances.html">
   N-grams Embeddings - Cosine Similarity Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../peitong/2_Part_of_Speech_Tagging.html">
   Part-of-Speech (POS) Tagging - Cosine Similarity Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="4_Word2Vec.html">
   Word2vec
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="5_Doc2Vec.html">
   Doc2Vec
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mary/Report_TwoTowers.html">
   Two Towers
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mary/Report_USE.html">
   Universal Sentence Encoder
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mary/Report_Embedding_Results.html">
   Document Embedding Results
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Topic Modelling
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../mary/Report_Topic_Modelling_Introduction.html">
   Topic Modelling Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2_LDA_topic_modelling.html">
   LDA (Latent Dirichlet Allocation)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="3_LSA_topic_modelling.html">
   LSA (Latent Semantic Analysis)
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Dynamic Modelling Analysis
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../mary/Report_Dynamic_Modelling_Introduction.html">
   Dynamic Modelling Introduction
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Dynamic Company Embedding
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mary/Report_Topic_Modelling.html">
   Dynamic Topic Modelling
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Portfolio Analysis
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../peitong/3_Minimum_Variance_Analysis.html">
   Mean-Variance Analysis - Minimum Variance
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../peitong/3.1_Minimum_Variance_Analysis-Sample_Estimates.html">
   Estimates from Sample Covariance
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../peitong/3.2_Minimum_Variance_Analysis-Cosine_Similarity.html">
   Estimates from Cosine Similarity
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../peitong/3.3_Minimum_Variance_Analysis-Factor_Model.html">
   Estimates from Factor Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../peitong/3.4_Minimum_Variance_Analysis_Results.html">
   Porfolio Analysis Results
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/content/richard/8_Dynamic_Embedding.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/richardye101/ubineer_nlp_research"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/richardye101/ubineer_nlp_research/issues/new?title=Issue%20on%20page%20%2Fcontent/richard/8_Dynamic_Embedding.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/richardye101/ubineer_nlp_research/main?urlpath=tree/../content/content/richard/8_Dynamic_Embedding.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#diving-into-the-embeddings">
   Diving into the embeddings
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#tf-idf-term-frequency-inverse-document-frequency">
     tf-idf (term frequency - inverse document frequency)
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#okta">
       OKTA
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id1">
         2018 - 2019
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id2">
         2019 - 2020
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id3">
         2020 - 2021
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#z-scaler">
       Z-Scaler
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id4">
         2019-2020
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#netflix">
       Netflix
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id5">
         2008 - 2009
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id6">
         2009 - 2010
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id7">
         2010 - 2011
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id8">
         2011 - 2012
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#general-electric">
       General Electric
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id9">
         2011 - 2012
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id10">
         2012 - 2013
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id11">
         2013 - 2014
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#word2vec">
     word2vec
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id12">
       Okta
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id13">
       Z-Scaler
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id14">
       Netflix
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id15">
       General Electric
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#notes-on-how-the-analysis-was-performed">
       Notes on how the analysis was performed
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#doc2vec">
     doc2vec
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id16">
       Okta
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id17">
       Z-Scaler
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id18">
       Netflix
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id19">
       General Electric
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#conclusion">
   Conclusion
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Dynamic Company Embedding</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#diving-into-the-embeddings">
   Diving into the embeddings
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#tf-idf-term-frequency-inverse-document-frequency">
     tf-idf (term frequency - inverse document frequency)
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#okta">
       OKTA
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id1">
         2018 - 2019
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id2">
         2019 - 2020
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id3">
         2020 - 2021
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#z-scaler">
       Z-Scaler
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id4">
         2019-2020
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#netflix">
       Netflix
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id5">
         2008 - 2009
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id6">
         2009 - 2010
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id7">
         2010 - 2011
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id8">
         2011 - 2012
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#general-electric">
       General Electric
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id9">
         2011 - 2012
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id10">
         2012 - 2013
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id11">
         2013 - 2014
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#word2vec">
     word2vec
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id12">
       Okta
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id13">
       Z-Scaler
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id14">
       Netflix
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id15">
       General Electric
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#notes-on-how-the-analysis-was-performed">
       Notes on how the analysis was performed
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#doc2vec">
     doc2vec
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id16">
       Okta
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id17">
       Z-Scaler
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id18">
       Netflix
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id19">
       General Electric
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#conclusion">
   Conclusion
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="dynamic-company-embedding">
<h1>Dynamic Company Embedding<a class="headerlink" href="#dynamic-company-embedding" title="Permalink to this headline">¶</a></h1>
<p>This notebook aims to look at the word embeddings for companies and look at whats changed between the years 2016 to 2018, using techniques we’ve explored earlier such as</p>
<ul class="simple">
<li><p><a class="reference external" href="#tf-idf-(term-frequency---inverse-document-frequency)">tf-idf (term frequency - inverse document frequency)</a></p></li>
<li><p><a class="reference external" href="#word2vec">word2vec</a></p></li>
<li><p><a class="reference external" href="#doc2vec">doc2vec</a></p></li>
</ul>
<div class="cell tag_hide-input tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;..&#39;</span><span class="p">)</span>
<span class="o">%</span><span class="k">load_ext</span> autoreload
<span class="o">%</span><span class="k">autoreload</span> 2
<span class="o">%</span><span class="k">aimport</span> std_func

<span class="c1"># Hide warnings</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;../data/preprocessed.csv&quot;</span><span class="p">)</span>
<span class="n">data_t</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;../mary/filtered_timeseries_data.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>We will examine these five companies and their sequential annual reports:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">OKTA</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Z-Scaler</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NFLX</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IBM</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GE</span></code></p></li>
</ul>
<div class="cell tag_remove-input tag_remove-output docutils container">
</div>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [3],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;We have </span><span class="si">{}</span><span class="s2"> unique companies that are within the corpus of data we will examine.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">data_t</span><span class="p">[</span><span class="s2">&quot;CIK&quot;</span><span class="p">]))))</span>

<span class="ne">NameError</span>: name &#39;data_t&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div class="cell tag_remove-input tag_remove-output docutils container">
</div>
<div class="section" id="diving-into-the-embeddings">
<h2>Diving into the embeddings<a class="headerlink" href="#diving-into-the-embeddings" title="Permalink to this headline">¶</a></h2>
<p>In this section, we look at the three embedding techniques employed earlier and how they can help us analyze how four companies have changed year after year.</p>
<div class="section" id="tf-idf-term-frequency-inverse-document-frequency">
<h3>tf-idf (term frequency - inverse document frequency)<a class="headerlink" href="#tf-idf-term-frequency-inverse-document-frequency" title="Permalink to this headline">¶</a></h3>
<p>For tf-idf we can look directly at the terms extracted and analyze how they’ve changed over time.</p>
<p>We have written a function that computes the 20 terms that experienced the largest changes in value year over year, for each company and each year. Below are the results after running our data through it.</p>
<div class="cell tag_remove-input tag_remove-output docutils container">
</div>
<div class="section" id="okta">
<h4>OKTA<a class="headerlink" href="#okta" title="Permalink to this headline">¶</a></h4>
<p>We can now examine OKTA and which terms experienced the largest changes in value year over year.</p>
<div class="cell tag_remove-output tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># OKTA</span>
<span class="n">OKTA</span> <span class="o">=</span> <span class="n">delta_tfidf</span><span class="p">[</span><span class="n">delta_tfidf</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1660134</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">60</span><span class="p">,:]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;YoY&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id1">
<h5>2018 - 2019<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h5>
<p>The earliest filing on OKTA available is in 2018. We can see from this analysis that between 2018 and 2019, the largets decrease in tf-idf value (term importance) was <em>“mobile application”</em>. But on the rise of importance were terms such as <em>“help customer”</em> and <em>“customer support”</em>.</p>
<p>From Wikipedia,</p>
<blockquote>
<div><p>It provides cloud software that helps companies manage and secure user authentication into applications, and for developers to build identity controls into applications, website web services and devices.</p>
</div></blockquote>
<p>We can reason that throughout 2019, Okta shifted their focus away from mobile applications to some degree, and increased their focus on customer care.</p>
<p>Assuming they have many business customers with a variety of applications, we could consider this the year Okta <strong>shifted their services a little further from mobile</strong>.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">OKTA</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [7],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">OKTA</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>

<span class="ne">NameError</span>: name &#39;OKTA&#39; is not defined
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id2">
<h5>2019 - 2020<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h5>
<p>In 2020, it seems the <em>“end user”</em> became a largest importance to Okta, supported by the increased importance of <em>“customer need”</em> as well.</p>
<p>This year could be categorized as a shift toward focusing on <strong>users</strong>.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">OKTA</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [8],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">OKTA</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>

<span class="ne">NameError</span>: name &#39;OKTA&#39; is not defined
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id3">
<h5>2020 - 2021<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h5>
<p>We see an increase in importance of terms like <em>“merger agreement”</em>, <em>“common stock”</em>, <em>“per share”</em>, and <em>“equity interest”</em>. These terms are all related to mergers and acquisitions and a quick search reveals that in May of 2021, they successfully completed a merger with another company named auth0.</p>
<p>You could consider <strong>this M&amp;A event to carry the most importance to Okta’s shareholders</strong> at the end of 2021, which is why it was given such importance in the the Business Description section.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">OKTA</span><span class="p">[</span><span class="mi">10</span><span class="p">:</span><span class="mi">15</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [9],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">OKTA</span><span class="p">[</span><span class="mi">10</span><span class="p">:</span><span class="mi">15</span><span class="p">]</span>

<span class="ne">NameError</span>: name &#39;OKTA&#39; is not defined
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="z-scaler">
<h4>Z-Scaler<a class="headerlink" href="#z-scaler" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Z-scaler is a cloud security company, headquartered in San Jose, California. The company’s cloud-native technology platform, the Zscaler Zero Trust Exchange, is designed to help enterprise customers secure their employees, applications, and data as infrastructure and applications move to the cloud and as employees connect to work remotely, off the traditional corporate network.</p>
</div></blockquote>
<ul class="simple">
<li><p>Wikipedia</p></li>
</ul>
<p>Knowing what kind of company Z-Scaler is now, lets try to infer what these changes in term importances mean.</p>
<div class="section" id="id4">
<h5>2019-2020<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h5>
<p>Unfortunately, we only have 2 years of data for Z-Scaler. In 2020, it seems they had a large focus on <em>“data center”</em>, and increases in importance for terms that included <em>“service”</em>. We could infer that in 2020, the company which provides security to its clients in the pulic cloud or private data centers had an increased focus on the latter group of services.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Z-Scaler</span>
<span class="n">delta_tfidf</span><span class="p">[</span><span class="n">delta_tfidf</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1713683</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">60</span><span class="p">,:]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;YoY&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [10],</span> in <span class="ni">&lt;cell line: 2&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="c1"># Z-Scaler</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="n">delta_tfidf</span><span class="p">[</span><span class="n">delta_tfidf</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1713683</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">60</span><span class="p">,:]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;YoY&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;delta_tfidf&#39; is not defined
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="netflix">
<h4>Netflix<a class="headerlink" href="#netflix" title="Permalink to this headline">¶</a></h4>
<p>Netflix is a company that usually needs no introduction, but I will give one regardless.</p>
<blockquote>
<div><p>Netflix, Inc. is an American subscription streaming service and production company. Launched on August 29, 1997, it offers a film and television series library through distribution deals as well as its own productions, known as Netflix Originals.</p>
</div></blockquote>
<p>Lets look at what changes Netflix as a company went through over the years.</p>
<div class="section" id="id5">
<h5>2008 - 2009<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h5>
<p>As you recall, these are the terms that experienced the largest absolute changes in tf-idf value year over year. This implies that in 2009, Netflix talked about their <em>“business model”</em>, <em>“customer support” and “proprietary technology”</em> less. It’s hard to guage what this translated into but is interesting nonetheless.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Netflix</span>
<span class="n">nlfx</span> <span class="o">=</span> <span class="n">delta_tfidf</span><span class="p">[</span><span class="n">delta_tfidf</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1065280</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">80</span><span class="p">,:]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;YoY&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">nlfx</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [11],</span> in <span class="ni">&lt;cell line: 2&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="c1"># Netflix</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="n">nlfx</span> <span class="o">=</span> <span class="n">delta_tfidf</span><span class="p">[</span><span class="n">delta_tfidf</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1065280</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">80</span><span class="p">,:]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;YoY&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="n">nlfx</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>

<span class="ne">NameError</span>: name &#39;delta_tfidf&#39; is not defined
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id6">
<h5>2009 - 2010<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h5>
<p>In 2010, it seems as though an emphasis of <em>“license agreement”</em>, <em>“third party”</em>, and <em>“intellectual property”</em> all increased in importance.</p>
<p>This is quite important, as according to Britannica,</p>
<blockquote>
<div><p>In 2010 Netflix introduced a streaming-only plan that offered unlimited streaming service but no DVDs. Netflix then expanded beyond the United States by offering the streaming-only plan in Canada in 2010, in Latin America and the Caribbean in 2011, and in the United Kingdom, Ireland, and Scandinavia in 2012.</p>
</div></blockquote>
<p>This year marked a huge change in Netflix’s business model, and of course their company business description shows this.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nlfx</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [12],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">nlfx</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>

<span class="ne">NameError</span>: name &#39;nlfx&#39; is not defined
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id7">
<h5>2010 - 2011<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h5>
<p>As Netflix’s new business venture started to take off, so did their investments into it and its importance to the business, as highlighted by the increased importance in terms such as <em>“web site”</em> and <em>“united state”</em> as they first released the streaming service in the United States. Throughout 2011, Netflix experienced quite poor demand as consumers were still recovering from the 2008 economic crash, so Netflix had to assure it’s investors of it’s ability to stay in business. That could explain why <em>“investor relation”</em> gained a high degree of importance.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nlfx</span><span class="p">[</span><span class="mi">10</span><span class="p">:</span><span class="mi">15</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [13],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">nlfx</span><span class="p">[</span><span class="mi">10</span><span class="p">:</span><span class="mi">15</span><span class="p">]</span>

<span class="ne">NameError</span>: name &#39;nlfx&#39; is not defined
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id8">
<h5>2011 - 2012<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h5>
<p>According to above, Netflix expanded to the United Kingdom among other countries in 2012, which may explain the decrease in focus/importance of <em>“united state”</em>. The rest of the changes to term importance seem quite unexplainable at a glance, so make of it what you will. :)</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nlfx</span><span class="p">[</span><span class="mi">15</span><span class="p">:</span><span class="mi">20</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [14],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">nlfx</span><span class="p">[</span><span class="mi">15</span><span class="p">:</span><span class="mi">20</span><span class="p">]</span>

<span class="ne">NameError</span>: name &#39;nlfx&#39; is not defined
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="general-electric">
<h4>General Electric<a class="headerlink" href="#general-electric" title="Permalink to this headline">¶</a></h4>
<p>General Electric is a household brand that manufacturers everything from washing machines to jet engines. As per Wikipedia,</p>
<blockquote>
<div><p>General Electric Company (GE) is an American multinational conglomerate incorporated in New York State and headquartered in Boston. Until 2021, the company operated in sectors including aviation, power, renewable energy, digital industry, additive manufacturing, locomotives, and venture capital and finance but has since divested from several areas, now primarily consisting of the first four segments.</p>
</div></blockquote>
<p>So they have their hands in many basics, what can changes in the words used in their annual reports tell us about what they’re doing, as a company year to year?</p>
<div class="section" id="id9">
<h5>2011 - 2012<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h5>
<p>In 2012, terms such as <em>“oil gas”</em>, <em>“financial service”</em>, and <em>“completed acquisition”</em> increased in importance implying GE may have made significant investements into the Oil &amp; Gas industry as well as the Financial Services industry, perhaps through acquisitions.</p>
<p>From the Acquisitions section on their Wikipedia page, during 2011 and 2012,</p>
<blockquote>
<div><p>In March 2011, GE announced that it had completed the acquisition of privately held Lineage Power Holdings from The Gores Group. In April 2011, GE announced it had completed its purchase of John Wood plc’s Well Support Division for $2.8 billion.</p>
</div></blockquote>
<blockquote>
<div><p>In 2011, GE Capital sold its $2 billion Mexican assets to Santander for 162 million and exit the business in Mexico. Santander additionally assumed the portfolio debts of GE Capital in the country. Following this, GE Capital focused in its core business and shed its non-core assets.</p>
</div></blockquote>
<blockquote>
<div><p>In June 2012, CEO and President of GE Jeff Immelt said that the company would invest ₹3 billion to accelerate its businesses in Karnataka. In October 2012, GE acquired $7 billion worth of bank deposits from MetLife Inc.</p>
</div></blockquote>
<p>All transactions were related to the energy sector (related to Oil &amp; Gas) or finance (Santander is a large Spanish bank)</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># GE</span>
<span class="n">ge</span> <span class="o">=</span> <span class="n">delta_tfidf</span><span class="p">[</span><span class="n">delta_tfidf</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">40545</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">60</span><span class="p">,:]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;YoY&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">ge</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [15],</span> in <span class="ni">&lt;cell line: 2&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="c1"># GE</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="n">ge</span> <span class="o">=</span> <span class="n">delta_tfidf</span><span class="p">[</span><span class="n">delta_tfidf</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">40545</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">60</span><span class="p">,:]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;YoY&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="n">ge</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>

<span class="ne">NameError</span>: name &#39;delta_tfidf&#39; is not defined
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id10">
<h5>2012 - 2013<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h5>
<p>In 2013, it seems GE made further divestments in financial services as terms such as <em>“credit card”</em> and <em>“financial service”</em> have decreased in importance,as well as <em>“power generation”</em> and <em>“real estate”</em> to a lesser extent. A quick Google search lends no meaning to these changes in General Electric’s business, so there are currently no conclusions to draw from this.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ge</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [16],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">ge</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>

<span class="ne">NameError</span>: name &#39;ge&#39; is not defined
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id11">
<h5>2013 - 2014<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h5>
<p>As with 2013, it seems these changes in term importance are quite broad for 2014. One term that does stand out however is that <em>“north american”</em> as they opened a new facility in Cincinnati this year.</p>
<blockquote>
<div><p>Later in 2014, General Electric announced plans to open its global operations center in Cincinnati, Ohio. The Global Operations Center opened in October 2016 as home to GE’s multifunctional shared services organization. It supports the company’s finance/accounting, human resources, information technology, supply chain, legal and commercial operations, and is one of GE’s four multifunctional shared services centers worldwide in Pudong, China; Budapest, Hungary; and Monterrey, Mexico.</p>
</div></blockquote>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ge</span><span class="p">[</span><span class="mi">10</span><span class="p">:</span><span class="mi">15</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [17],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">ge</span><span class="p">[</span><span class="mi">10</span><span class="p">:</span><span class="mi">15</span><span class="p">]</span>

<span class="ne">NameError</span>: name &#39;ge&#39; is not defined
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="word2vec">
<h3>word2vec<a class="headerlink" href="#word2vec" title="Permalink to this headline">¶</a></h3>
<p>Now the issue with word2vec, is that the output feature columns don’t represent a term or topic. Luckily most of our data is already labelled and comes with industry classifications.</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [18],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="nn">----&gt; 1 print(&quot;There are {} industries listed</span> in <span class="ni">our data of 564 companies.&quot;.format(len(final[&quot;SIC_Descrip&quot;].unique</span><span class="nt">())))</span>

<span class="ne">NameError</span>: name &#39;final&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>Lets perform word2vec on this data. Once we have embeddings for each company, we can find a median vector of each industry which we can use as a pseudo-industry embedding. This vector is what we will use to compare companies to and infer whether they’ve moved away or toward any given industries. This will be calculated on the entire time series of company filings.</p>
<p>Below is the code that extracts this information.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gensim.models.word2vec</span> <span class="kn">import</span> <span class="n">Word2Vec</span>
<span class="kn">from</span> <span class="nn">gensim</span> <span class="kn">import</span> <span class="n">utils</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics.pairwise</span> <span class="kn">import</span> <span class="n">cosine_similarity</span>

<span class="n">time_processed</span> <span class="o">=</span> <span class="n">final</span><span class="p">[</span><span class="s2">&quot;coDescription_stopwords&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">utils</span><span class="o">.</span><span class="n">simple_preprocess</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>

<span class="c1"># https://stackoverflow.com/questions/46560861/relation-between-word2vec-vector-size-and-total-number-of-words-scanned</span>
<span class="n">model_w</span> <span class="o">=</span> <span class="n">Word2Vec</span><span class="p">(</span><span class="n">time_processed</span><span class="p">,</span> <span class="n">vector_size</span> <span class="o">=</span> <span class="mi">300</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">doc_to_vec</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="n">word_vecs</span> <span class="o">=</span> <span class="p">[</span><span class="n">model_w</span><span class="o">.</span><span class="n">wv</span><span class="p">[</span><span class="n">w</span><span class="p">]</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">text</span> <span class="k">if</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">model_w</span><span class="o">.</span><span class="n">wv</span><span class="p">]</span>
    
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">word_vecs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">model_w</span><span class="o">.</span><span class="n">vector_size</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">word_vecs</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>

<span class="n">doc_vec</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">time_processed</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">doc_to_vec</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>

<span class="n">data_w2v</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">final</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,[</span><span class="s2">&quot;filingDate&quot;</span><span class="p">,</span><span class="s2">&quot;CIK&quot;</span><span class="p">,</span> <span class="s2">&quot;Name&quot;</span><span class="p">,</span> <span class="s2">&quot;SIC_Descrip&quot;</span><span class="p">]],</span><span class="n">doc_vec</span><span class="p">],</span><span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>

<span class="n">industry_vectors</span> <span class="o">=</span> <span class="n">data_w2v</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">3</span><span class="p">:]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;SIC_Descrip&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [19],</span> in <span class="ni">&lt;cell line: 5&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="kn">from</span> <span class="nn">gensim</span> <span class="kn">import</span> <span class="n">utils</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="kn">from</span> <span class="nn">sklearn.metrics.pairwise</span> <span class="kn">import</span> <span class="n">cosine_similarity</span>
<span class="ne">----&gt; </span><span class="mi">5</span> <span class="n">time_processed</span> <span class="o">=</span> <span class="n">final</span><span class="p">[</span><span class="s2">&quot;coDescription_stopwords&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">utils</span><span class="o">.</span><span class="n">simple_preprocess</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="c1"># https://stackoverflow.com/questions/46560861/relation-between-word2vec-vector-size-and-total-number-of-words-scanned</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span> <span class="n">model_w</span> <span class="o">=</span> <span class="n">Word2Vec</span><span class="p">(</span><span class="n">time_processed</span><span class="p">,</span> <span class="n">vector_size</span> <span class="o">=</span> <span class="mi">300</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;final&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>To calculate distance between the annual reports of our five companies and the industries, we will compute the cosine similarity scores.</p>
<p>For each year of filings, we only care about the industries with the smallest distance (greatest consine similarity) and how these top industries have changed over time.</p>
<p>The inner workings of this are quite simple.</p>
<ol class="simple">
<li><p>For each year, we extract the top 5 industries with the highest similarity scores. These indsutry names are stored and this step is repeated.</p></li>
<li><p>Since companies change year over year, different industries could appear in the top 5, which is why some figures below will have more than 5 industries visualized.</p></li>
</ol>
<div class="section" id="id12">
<h4>Okta<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h4>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">okta_w2v</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">data_w2v</span><span class="p">[</span><span class="n">data_w2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1660134</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
           <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">cosine_similarity</span><span class="p">(</span><span class="n">data_w2v</span><span class="p">[</span><span class="n">data_w2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1660134</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">4</span><span class="p">:],</span> <span class="n">industry_vectors</span><span class="p">),</span>
                        <span class="n">columns</span> <span class="o">=</span> <span class="n">industry_vectors</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">())],</span>
          <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Gets the list of top industries associated with okta throughout it&#39;s history</span>
<span class="n">okta_industries</span> <span class="o">=</span> <span class="nb">set</span><span class="p">((</span><span class="n">okta_w2v</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">()))</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">okta_w2v</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="n">okta_industries</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">okta_w2v</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>

<span class="n">std_func</span><span class="o">.</span><span class="n">dynamic_plt</span><span class="p">(</span><span class="n">okta_w2v</span><span class="p">,</span> <span class="n">okta_industries</span><span class="p">,</span> <span class="s2">&quot;Okta&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [20],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">okta_w2v</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">data_w2v</span><span class="p">[</span><span class="n">data_w2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1660134</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>            <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">cosine_similarity</span><span class="p">(</span><span class="n">data_w2v</span><span class="p">[</span><span class="n">data_w2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1660134</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">4</span><span class="p">:],</span> <span class="n">industry_vectors</span><span class="p">),</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>                         <span class="n">columns</span> <span class="o">=</span> <span class="n">industry_vectors</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">())],</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span>           <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="c1"># Gets the list of top industries associated with okta throughout it&#39;s history</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="n">okta_industries</span> <span class="o">=</span> <span class="nb">set</span><span class="p">((</span><span class="n">okta_w2v</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">()))</span>

<span class="ne">NameError</span>: name &#39;data_w2v&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>The above plot illustrates for the top 5 closest industries to Okta, its distance to its closest five industries stayed quite consistent over the 4 time points, while between 2020 to 2021 its similarity to <strong>Computer Integrated Systems Design</strong> increased greatly and its similarity to <strong>“Computer and Office Equipment”</strong> increased a bit less.</p>
<p>Okta’s main service is to handle identity and access management, so naturally integrating into it’s client’s services and internal systems is expected.</p>
<p>The increase in similarity to <strong>“Computer and Office Equipment”</strong> is harder to interpret, but perhaps it was due to the increased mentions of work from home setups within many companies and how Okta’s services should adapt/have adapted to it.</p>
</div>
<div class="section" id="id13">
<h4>Z-Scaler<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h4>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">zs_w2v</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">data_w2v</span><span class="p">[</span><span class="n">data_w2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1713683</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
           <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">cosine_similarity</span><span class="p">(</span><span class="n">data_w2v</span><span class="p">[</span><span class="n">data_w2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1713683</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">4</span><span class="p">:],</span> <span class="n">industry_vectors</span><span class="p">),</span>
                        <span class="n">columns</span> <span class="o">=</span> <span class="n">industry_vectors</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">())],</span>
          <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Gets the list of top industries associated with okta throughout it&#39;s history</span>
<span class="n">zs_industries</span> <span class="o">=</span> <span class="nb">set</span><span class="p">((</span><span class="n">zs_w2v</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">()))</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">zs_w2v</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="n">zs_industries</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">zs_w2v</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>

<span class="n">std_func</span><span class="o">.</span><span class="n">dynamic_plt</span><span class="p">(</span><span class="n">zs_w2v</span><span class="p">,</span> <span class="n">zs_industries</span><span class="p">,</span> <span class="s2">&quot;Z-Scaler&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [21],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">zs_w2v</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">data_w2v</span><span class="p">[</span><span class="n">data_w2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1713683</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>            <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">cosine_similarity</span><span class="p">(</span><span class="n">data_w2v</span><span class="p">[</span><span class="n">data_w2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1713683</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">4</span><span class="p">:],</span> <span class="n">industry_vectors</span><span class="p">),</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>                         <span class="n">columns</span> <span class="o">=</span> <span class="n">industry_vectors</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">())],</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span>           <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="c1"># Gets the list of top industries associated with okta throughout it&#39;s history</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="n">zs_industries</span> <span class="o">=</span> <span class="nb">set</span><span class="p">((</span><span class="n">zs_w2v</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">()))</span>

<span class="ne">NameError</span>: name &#39;data_w2v&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>Across the board, it seems Z-Scaler’s similarity to it’s closest industries decreased. This suggests that Z-Scaler is potentially moving away from the computer/software related industry as a whole.</p>
<p>This interpretation should be taken with a large grain of salt, as we are only visualizing changes over one year.</p>
</div>
<div class="section" id="id14">
<h4>Netflix<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h4>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nlfx_w2v</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">data_w2v</span><span class="p">[</span><span class="n">data_w2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1065280</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
           <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">cosine_similarity</span><span class="p">(</span><span class="n">data_w2v</span><span class="p">[</span><span class="n">data_w2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1065280</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">4</span><span class="p">:],</span> <span class="n">industry_vectors</span><span class="p">),</span>
                        <span class="n">columns</span> <span class="o">=</span> <span class="n">industry_vectors</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">())],</span>
          <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Gets the list of top industries associated with okta throughout it&#39;s history</span>
<span class="n">nlfx_industries</span> <span class="o">=</span> <span class="nb">set</span><span class="p">((</span><span class="n">nlfx_w2v</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">()))</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">nlfx_w2v</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="n">nlfx_industries</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">nlfx_w2v</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>

<span class="n">std_func</span><span class="o">.</span><span class="n">dynamic_plt</span><span class="p">(</span><span class="n">nlfx_w2v</span><span class="p">,</span> <span class="n">nlfx_industries</span><span class="p">,</span> <span class="s2">&quot;Netflix&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [22],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">nlfx_w2v</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">data_w2v</span><span class="p">[</span><span class="n">data_w2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1065280</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>            <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">cosine_similarity</span><span class="p">(</span><span class="n">data_w2v</span><span class="p">[</span><span class="n">data_w2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1065280</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">4</span><span class="p">:],</span> <span class="n">industry_vectors</span><span class="p">),</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>                         <span class="n">columns</span> <span class="o">=</span> <span class="n">industry_vectors</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">())],</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span>           <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="c1"># Gets the list of top industries associated with okta throughout it&#39;s history</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="n">nlfx_industries</span> <span class="o">=</span> <span class="nb">set</span><span class="p">((</span><span class="n">nlfx_w2v</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">()))</span>

<span class="ne">NameError</span>: name &#39;data_w2v&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>Netflix has experiences quite a tumultuous 5 years, which is no surprise as this was the exact turning point when they first released their streaming service.</p>
<p>This chart quite splendidly depicts how Netflix moved away from industries such as <strong>“Electronic Computers”</strong>, <strong>“Computer and Office Equipment”</strong> and <strong>“Electronic Parts and Equipment”</strong> significantly. In 2008, they released a home set top box device manufactured by Roku which allowed cusotmers to play movies and shows all for one fee. As most people are familiar, they moved away from that and started offering their streaming services online starting 2010.</p>
<p>What can’t be easily explained are the dramatic increases in the <strong>“Catalog and mail-order houses (electronic shopping websites)”</strong> and <strong>“Household Audio and Video Equipment”</strong> industries. Presumably their sale of streaming services could be purchased on Netflix’s website, thereby making them an electronic shopping website but that still doesn’t explain the increase in the latter industry. At this stage of the company, Netflix was moving away from physical products and toward their streaming service business.</p>
</div>
<div class="section" id="id15">
<h4>General Electric<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h4>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ge_w2v</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">data_w2v</span><span class="p">[</span><span class="n">data_w2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">40545</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
           <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">cosine_similarity</span><span class="p">(</span><span class="n">data_w2v</span><span class="p">[</span><span class="n">data_w2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">40545</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">4</span><span class="p">:],</span> <span class="n">industry_vectors</span><span class="p">),</span>
                        <span class="n">columns</span> <span class="o">=</span> <span class="n">industry_vectors</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">())],</span>
          <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Gets the list of top industries associated with okta throughout it&#39;s history</span>
<span class="n">ge_industries</span> <span class="o">=</span> <span class="nb">set</span><span class="p">((</span><span class="n">ge_w2v</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">()))</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">ge_w2v</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="n">ge_industries</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">ge_w2v</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>

<span class="n">std_func</span><span class="o">.</span><span class="n">dynamic_plt</span><span class="p">(</span><span class="n">ge_w2v</span><span class="p">,</span> <span class="n">ge_industries</span><span class="p">,</span> <span class="s2">&quot;General Electric&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [23],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">ge_w2v</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">data_w2v</span><span class="p">[</span><span class="n">data_w2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">40545</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>            <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">cosine_similarity</span><span class="p">(</span><span class="n">data_w2v</span><span class="p">[</span><span class="n">data_w2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">40545</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">4</span><span class="p">:],</span> <span class="n">industry_vectors</span><span class="p">),</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>                         <span class="n">columns</span> <span class="o">=</span> <span class="n">industry_vectors</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">())],</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span>           <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="c1"># Gets the list of top industries associated with okta throughout it&#39;s history</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="n">ge_industries</span> <span class="o">=</span> <span class="nb">set</span><span class="p">((</span><span class="n">ge_w2v</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">()))</span>

<span class="ne">NameError</span>: name &#39;data_w2v&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>Finally, we have General Electric. It’s quite interesting to see how its top industries year over year have declined consistently. The movement of this graph implies General Electric was in a large divestment stage in its top related industries.</p>
</div>
<div class="section" id="notes-on-how-the-analysis-was-performed">
<h4>Notes on how the analysis was performed<a class="headerlink" href="#notes-on-how-the-analysis-was-performed" title="Permalink to this headline">¶</a></h4>
<p>In the above word2vec section, one aspect of some companies may have been missed. That is for companies with large divestments in its top related industries, what did they move <strong>toward</strong>? Our analysis here focused primarily on the industries identifies as being the most similar as its quite informative to speak to industries a company operates within. But for some companies such as Netflix and General Electric, they could have experience large increases in similarity with industries that are very far from where their embeddings are.</p>
<p>For example, Netflix could be moving very close to the <strong>“Prepackaged Software industry”</strong>, but because its similarity is very low (say .50), even large increases to say 0.75 would go unnoticed because that is still too low to be considered one of Netflix’s top 5 industries.</p>
</div>
</div>
<div class="section" id="doc2vec">
<h3>doc2vec<a class="headerlink" href="#doc2vec" title="Permalink to this headline">¶</a></h3>
<p>Now we’ll look at how embeddings created using doc2vec have changed over time for our four companies.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gensim.models</span> <span class="kn">import</span> <span class="n">doc2vec</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>

<span class="n">docs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">analyzedDocument</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;AnalyzedDocument&#39;</span><span class="p">,</span> <span class="s1">&#39;words tags&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">text</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">final</span><span class="p">[</span><span class="s2">&quot;coDescription_stopwords&quot;</span><span class="p">]):</span>
    <span class="n">words</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="n">tags</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">docs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">analyzedDocument</span><span class="p">(</span><span class="n">words</span><span class="p">,</span> <span class="n">tags</span><span class="p">))</span>

<span class="c1"># Train model (set min_count = 1, if you want the model to work with the provided example data set)</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">doc2vec</span><span class="o">.</span><span class="n">Doc2Vec</span><span class="p">(</span><span class="n">docs</span><span class="p">,</span> <span class="n">vector_size</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">window</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">min_count</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">workers</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>

<span class="n">doc_vec_2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">model</span><span class="o">.</span><span class="n">dv</span><span class="p">[</span><span class="n">doc</span><span class="p">]</span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">docs</span><span class="p">))])</span>
<span class="n">data_d2v</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">final</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,[</span><span class="s2">&quot;filingDate&quot;</span><span class="p">,</span><span class="s2">&quot;CIK&quot;</span><span class="p">,</span> <span class="s2">&quot;Name&quot;</span><span class="p">,</span> <span class="s2">&quot;SIC_Descrip&quot;</span><span class="p">]],</span><span class="n">doc_vec_2</span><span class="p">],</span><span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>

<span class="n">industry_vectors_d2v</span> <span class="o">=</span> <span class="n">data_d2v</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">3</span><span class="p">:]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;SIC_Descrip&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [24],</span> in <span class="ni">&lt;cell line: 6&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="n">docs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="n">analyzedDocument</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;AnalyzedDocument&#39;</span><span class="p">,</span> <span class="s1">&#39;words tags&#39;</span><span class="p">)</span>
<span class="ne">----&gt; </span><span class="mi">6</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">text</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">final</span><span class="p">[</span><span class="s2">&quot;coDescription_stopwords&quot;</span><span class="p">]):</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span>     <span class="n">words</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span>     <span class="n">tags</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="p">]</span>

<span class="ne">NameError</span>: name &#39;final&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div class="section" id="id16">
<h4>Okta<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h4>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">okta_d2v</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">data_d2v</span><span class="p">[</span><span class="n">data_d2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1660134</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
           <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">cosine_similarity</span><span class="p">(</span><span class="n">data_d2v</span><span class="p">[</span><span class="n">data_d2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1660134</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">4</span><span class="p">:],</span> <span class="n">industry_vectors_d2v</span><span class="p">),</span>
                        <span class="n">columns</span> <span class="o">=</span> <span class="n">industry_vectors</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">())],</span>
          <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Gets the list of top industries associated with okta throughout it&#39;s history</span>
<span class="n">okta_industries_d2v</span> <span class="o">=</span> <span class="nb">set</span><span class="p">((</span><span class="n">okta_d2v</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">()))</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">okta_d2v</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="n">okta_industries_d2v</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">okta_d2v</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>

<span class="n">std_func</span><span class="o">.</span><span class="n">dynamic_plt</span><span class="p">(</span><span class="n">okta_d2v</span><span class="p">,</span> <span class="n">okta_industries_d2v</span><span class="p">,</span> <span class="s2">&quot;Okta&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [25],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">okta_d2v</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">data_d2v</span><span class="p">[</span><span class="n">data_d2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1660134</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>            <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">cosine_similarity</span><span class="p">(</span><span class="n">data_d2v</span><span class="p">[</span><span class="n">data_d2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1660134</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">4</span><span class="p">:],</span> <span class="n">industry_vectors_d2v</span><span class="p">),</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>                         <span class="n">columns</span> <span class="o">=</span> <span class="n">industry_vectors</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">())],</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span>           <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="c1"># Gets the list of top industries associated with okta throughout it&#39;s history</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="n">okta_industries_d2v</span> <span class="o">=</span> <span class="nb">set</span><span class="p">((</span><span class="n">okta_d2v</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">()))</span>

<span class="ne">NameError</span>: name &#39;data_d2v&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>The above plot illustrates for the top 5 closest industries to Okta, calculated using doc2vec embeddings. It’s quite interesting to see “Business Services, NEC (tobacco sheeting service)” as an industry be so highly ranked as an industry for Okta here.</p>
</div>
<div class="section" id="id17">
<h4>Z-Scaler<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">zs_d2v</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">data_d2v</span><span class="p">[</span><span class="n">data_d2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1713683</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
           <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">cosine_similarity</span><span class="p">(</span><span class="n">data_d2v</span><span class="p">[</span><span class="n">data_d2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1713683</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">4</span><span class="p">:],</span> <span class="n">industry_vectors_d2v</span><span class="p">),</span>
                        <span class="n">columns</span> <span class="o">=</span> <span class="n">industry_vectors</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">())],</span>
          <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Gets the list of top industries associated with okta throughout it&#39;s history</span>
<span class="n">zs_industries</span> <span class="o">=</span> <span class="nb">set</span><span class="p">((</span><span class="n">zs_d2v</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">()))</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">zs_d2v</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="n">zs_industries</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">zs_d2v</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>

<span class="n">std_func</span><span class="o">.</span><span class="n">dynamic_plt</span><span class="p">(</span><span class="n">zs_d2v</span><span class="p">,</span> <span class="n">zs_industries</span><span class="p">,</span> <span class="s2">&quot;Z-Scaler&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [26],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">zs_d2v</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">data_d2v</span><span class="p">[</span><span class="n">data_d2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1713683</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>            <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">cosine_similarity</span><span class="p">(</span><span class="n">data_d2v</span><span class="p">[</span><span class="n">data_d2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1713683</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">4</span><span class="p">:],</span> <span class="n">industry_vectors_d2v</span><span class="p">),</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>                         <span class="n">columns</span> <span class="o">=</span> <span class="n">industry_vectors</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">())],</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span>           <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="c1"># Gets the list of top industries associated with okta throughout it&#39;s history</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="n">zs_industries</span> <span class="o">=</span> <span class="nb">set</span><span class="p">((</span><span class="n">zs_d2v</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">()))</span>

<span class="ne">NameError</span>: name &#39;data_d2v&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>Across the board, it seems Z-Scaler’s similarity to it’s closest industries increased, in contrast to our word2vec results. This suggests that Z-Scaler is moving closer to the computer integrated systems design/modem related industries.</p>
<p>This interpretation should be taken with a large grain of salt as well, as we are only visualizing changes over one year and the results are not consistent with our word2vec results.</p>
</div>
<div class="section" id="id18">
<h4>Netflix<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h4>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nlfx_d2v</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">data_d2v</span><span class="p">[</span><span class="n">data_d2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1065280</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
           <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">cosine_similarity</span><span class="p">(</span><span class="n">data_d2v</span><span class="p">[</span><span class="n">data_d2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1065280</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">4</span><span class="p">:],</span> <span class="n">industry_vectors_d2v</span><span class="p">),</span>
                        <span class="n">columns</span> <span class="o">=</span> <span class="n">industry_vectors</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">())],</span>
          <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Gets the list of top industries associated with okta throughout it&#39;s history</span>
<span class="n">nlfx_industries</span> <span class="o">=</span> <span class="nb">set</span><span class="p">((</span><span class="n">nlfx_d2v</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">()))</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">nlfx_d2v</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="n">nlfx_industries</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">nlfx_d2v</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>

<span class="n">std_func</span><span class="o">.</span><span class="n">dynamic_plt</span><span class="p">(</span><span class="n">nlfx_d2v</span><span class="p">,</span> <span class="n">nlfx_industries</span><span class="p">,</span> <span class="s2">&quot;Netflix&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [27],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">nlfx_d2v</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">data_d2v</span><span class="p">[</span><span class="n">data_d2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1065280</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>            <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">cosine_similarity</span><span class="p">(</span><span class="n">data_d2v</span><span class="p">[</span><span class="n">data_d2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1065280</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">4</span><span class="p">:],</span> <span class="n">industry_vectors_d2v</span><span class="p">),</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>                         <span class="n">columns</span> <span class="o">=</span> <span class="n">industry_vectors</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">())],</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span>           <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="c1"># Gets the list of top industries associated with okta throughout it&#39;s history</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="n">nlfx_industries</span> <span class="o">=</span> <span class="nb">set</span><span class="p">((</span><span class="n">nlfx_d2v</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">()))</span>

<span class="ne">NameError</span>: name &#39;data_d2v&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>A quick look at the largest increases in cosine similarity tells us that this graph is quite meaningless, although fun to look at. The largest jumps in cosine similarity occurred with the <strong>“Wholesale Trade–Durable Goods”</strong> industry and the <strong>“Business Services, NEC (tobacco sheeting service)”</strong> industry which are far crys from what Netflix’s products and services are.</p>
<p>As per definition,</p>
<blockquote>
<div><p>Industries in the Wholesale Trade, Durable Goods subsector sell or arrange the purchase or sale of capital or durable goods to other businesses. Durable goods are new or used items generally with a normal life expectancy of three years or more. Durable goods wholesale trade establishments are engaged in wholesaling products, such as motor vehicles, furniture, construction materials, machinery and equipment (including household-type appliances), metals and minerals (except petroleum), sporting goods, toys and hobby goods, recyclable materials, and parts.</p>
</div></blockquote>
<p>This result is unfortunately not very interpretable.</p>
</div>
<div class="section" id="id19">
<h4>General Electric<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h4>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ge_d2v</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">data_d2v</span><span class="p">[</span><span class="n">data_d2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">40545</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
           <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">cosine_similarity</span><span class="p">(</span><span class="n">data_d2v</span><span class="p">[</span><span class="n">data_d2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">40545</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">4</span><span class="p">:],</span> <span class="n">industry_vectors_d2v</span><span class="p">),</span>
                        <span class="n">columns</span> <span class="o">=</span> <span class="n">industry_vectors</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">())],</span>
          <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Gets the list of top industries associated with okta throughout it&#39;s history</span>
<span class="n">ge_industries</span> <span class="o">=</span> <span class="nb">set</span><span class="p">((</span><span class="n">ge_d2v</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">()))</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">ge_d2v</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="n">ge_industries</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">ge_d2v</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>

<span class="n">std_func</span><span class="o">.</span><span class="n">dynamic_plt</span><span class="p">(</span><span class="n">ge_d2v</span><span class="p">,</span> <span class="n">ge_industries</span><span class="p">,</span> <span class="s2">&quot;General Electric&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [28],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">ge_d2v</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">data_d2v</span><span class="p">[</span><span class="n">data_d2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">40545</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>            <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">cosine_similarity</span><span class="p">(</span><span class="n">data_d2v</span><span class="p">[</span><span class="n">data_d2v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;CIK&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">40545</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">4</span><span class="p">:],</span> <span class="n">industry_vectors_d2v</span><span class="p">),</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>                         <span class="n">columns</span> <span class="o">=</span> <span class="n">industry_vectors</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">())],</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span>           <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="c1"># Gets the list of top industries associated with okta throughout it&#39;s history</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="n">ge_industries</span> <span class="o">=</span> <span class="nb">set</span><span class="p">((</span><span class="n">ge_d2v</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">()))</span>

<span class="ne">NameError</span>: name &#39;data_d2v&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>Finally, we have General Electric. This graph is quite interesting, as GE is a multinational conglomerate which has it’s hands in many industries. This graph illustrates this aspect of GE quite well, as its most similar industries are quite unrelated to eachother. Due to the scale of this company, it is also quite difficult to interpret why certain industries increased in similarity, and as we’ve seen above it may be best to take dynamic analysis results using doc2vec with a grain of salt.</p>
</div>
</div>
</div>
<div class="section" id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Permalink to this headline">¶</a></h2>
<p>On this page, you’ve learned about our methodology of measuring and analyzing the changes in business descriptions. These changes helped us identify what the largest changes in each of these companies were, whether it was a increase or decrease of importance of certain terms, or a shift closer toward or further from its closest industries.</p>
<p>As this work is unsupervised and exploratory, its quite hard to extract any concrete results that could lead to actionable insight. This is more a look into the techniques available to perform NLP analysis. We hope this was informative to how time series data and text embeddings have mayn novel applications waiting to be explored.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./content/richard"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="../mary/Report_Dynamic_Modelling_Introduction.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Dynamic Modelling Introduction</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../mary/Report_Topic_Modelling.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Dynamic Topic Modelling</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Peitong Lu, Mary Xu, Richard Ye<br/>
    
        &copy; Copyright 2022.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>